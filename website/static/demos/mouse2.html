<html>
<head>


<link rel="stylesheet" href="/demo.css"/>
<script type="text/javascript" src="/fx/flapjax.js"></script>

<title>Flapjax Demo: Follow the Mouse with a tail</title>

<script type="text/javascript">

function loader() {

  var DELAY = constantB(300);
  var mouseLeftB = mouseLeftB(document);
  var mouseTopB  = mouseTopB(document);

  insertDomB( 
    DIVB( 
      {id: 'themouse',
       className: 'contrastBlock',
       style: { 
	       position: 'absolute',
	       left: mouseLeftB,
         top: mouseTopB}},
      'the mouse!'),
    'body',
    'beginning');

  var mouseOffset = $('themouse').offsetWidth;
  var delayedLeft = liftB(constantB(function (pos) { return pos + mouseOffset; }),
                           delayB(mouseLeftB, DELAY));
  var delayedTop  = delayB(mouseTopB, DELAY); 

  insertDomB(
    DIVB(
      {id: 'tail',
      className: 'contrastBlock',
       style: {color: '#FF0000',
               position: 'absolute',
               left: delayedLeft,
               top: delayedTop}},
      'its tail!'),
    'body',
    'end');
}

</script>
</head>

<body id="body" onload="loader()">
</body>

</html>
